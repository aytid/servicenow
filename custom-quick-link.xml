<?xml version="1.0" encoding="UTF-8"?>
<unload unload_date="2025-09-02 11:07:05">
<sp_widget action="INSERT_OR_UPDATE">
<category>servicenow</category>
<client_script><![CDATA[api.controller = function($scope, $timeout, $window) {
    var c = this;
    $scope.isLoading = false;

    $scope.clicked = function(item) {
        if (item.type === "guided_help") {
            c.server.get({
                action: "openGuidedhelp",
                guidedHelpId: item.guided_help
            }).then(function(resp) {
                $timeout(function() {
                    $window.open(resp.data.guidedHelpResponse.url, "_self");
                });
            });
        }
    };

		c.asyncGet = function() {
        $scope.isLoading = true;
        c.data.action = "loadData";
        c.server.update().then(function() {
            $scope.isLoading = false;
        });
    };

    if (c.data.load_config === "async") {
        setTimeout(c.asyncGet);
    }
};
]]></client_script>
<controller_as>c</controller_as>
<css>$background-primary: #FFFFFF !default;
$sp-panel-box-shadow: 0 4px 8px 0 rgba(23, 40, 52, 0.08) !default;
$border-primary: #8790A1 !default;
$border-secondary: #B3B7BC !default;
$border-tertiary: #DADDE2 !default;
$text-primary: #1D2223 !default;
$color-sp-separator: #EAEAEA !default;
$link-hover-color : #000000 !default;;
$link-color : #000000 !default;
$sp-space--xxs: 2px !default;
$rm: $sp-space--xxs;

.primary-color {
	background-color: $brand-primary;
}

.dark-color {
	background-color: $color-dark;
}

.light-color {
	background-color: $color-light;
}

.accent-color {
	background-color: $color-accent;
}

.text-color-white {
	color: #FFFFFF !important;
}

.text-color-black {
	color: $text-primary !important;
}
.quick-link-empty-state {
	height: 75 * $rm;
	text-align: center;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 2.4rem;
	p{
		color: $text-secondary;
		font-size: $font-size-base;
	}
}
.link-container {
	background: $background-primary;
	box-shadow: $sp-panel-box-shadow;
	border-radius: $border-radius-large;
	margin-bottom: $rm * 8;
	min-width: min-content;
	.title {
		min-width: 250px;
		line-height: $rm * 12;
		color: $text-primary;
		word-wrap: break-word;
		padding: $rm * 12;
		border-bottom: 1px solid $color-sp-separator;
	}
	.widget-title {
		margin: 0;
	}
}

.title--with-icon {
    display: flex;
    flex-direction: row;
}

.external-link--icon {
  display: flex;
  padding-left: 6px;
  font-size: 14px;
  align-self: flex-start;
  line-height: 21px;
  padding-top: 2px;
}

.all-card-container,
.all-card-container-left,
.all-card-container-simple {
	display: flex;
	padding: $rm * 12;
	grid-template-columns: 1fr;
	grid-gap: $rm * 12;
  width:260px;
  margin:auto;
  margin-top:-8rem;
  //margin-left: -20px;
}

.card-thumbnail-align-left {
	display: flex;
	flex-direction: row;
	border: 1px solid $border-tertiary;
	box-sizing: border-box;
	border-radius: $border-radius-base;
	padding: $rm * 4 $rm * 8;
	flex: 1;
	justify-items: center;
	word-wrap: break-word;
	word-break: break-word;
	.icon-container {
		margin-right: $rm * 4;
		min-width: 85px;
		width: 85px;
	}
	.icon-container.card-small {
		min-width: 48px;
		width: 48px;
	}
	.content-container {
		padding-right: 0px;
		background-color: transparent;
		min-width: auto;
		align-self: center;
		flex-grow: 0;
		padding-left: $rm * 4;
		align-items: flex-start;
	}
}

.card-thumbnail-align-left.card-medium {
	min-height: 121px;
}

.card-thumbnail-align-left.card-small {
	min-height: 75px;
}

.content-container--content-start {
  justify-content: start !important;
  padding: 0 $rm * 4 $rm * 4 $rm * 4 !important;
  background-color: transparent !important;
}

.card-simple {
	position: relative;
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	border-bottom: 1px solid $border-secondary;
	flex: 1;
	word-break: break-word;
	word-wrap: break-word;
	overflow: hidden;
	.content-container {
		margin-top: auto;
		margin-bottom: $rm * 8;
		padding: 0;
		flex-grow: 0;
		background-color: $background-primary;
	}
}

.card-simple.card-small,
.card-simple.card-medium {
	min-height: 70px;
	max-height: 90px;
}

.card-simple &gt; div &gt; span {
	color: black;
}

.card-simple:hover &gt; div &gt; span {
	font-style: bold;
}

.card-simple &gt; div &gt; div &gt; .card-title {
  color: $link-color;
}

.card-simple:hover &gt; div &gt; div &gt; .card-title {
  color: $link-hover-color;
}

.card-simple:hover &gt; div &gt; div &gt; .external-link--icon {
  color: $link-hover-color;
}

.content-container.content-left-align {
	align-items: flex-start;
}

.text-left-align {
	text-align: left !important;
}

.card-thumbnail-align-center {
	position: relative;
	flex-grow: 1;
	display: flex;
	flex-direction: column;
	border: 1px solid $border-tertiary;
	box-sizing: border-box;
	border-radius: $border-radius-base;
	background-size: 100% 100%;
	background-position: bottom;
	word-break: break-word;
	word-wrap: break-word;
	overflow: hidden;
	.icon-container {
		padding: $rm * 4 $rm * 8 $rm * 4;
		min-height: 92px;
	}
	.icon-container--no-image-color {
		min-height: 0;
		padding: 0;
	}
	.icon-container--background-medium {
		min-height: 92px;
	}
	.icon-container--background-small {
		min-height: 44px;
	}
	.content-container--no-image-color {
		justify-content: center;
		padding: 0 $rm * 4;
		background-color: transparent;
	}
}

.card-thumbnail-align-center.card-medium {
	max-height: 155px;
	min-height: 140px;
}

.card-thumbnail-align-center.card-small {
	max-height: 108px;
	min-height: 76px;
}

.icon-container {
	position: relative;
	box-sizing: border-box;
	display: flex;
	flex-grow: 0;
	flex-shrink: 1;
	justify-content: center;
	align-items: center;
}

.icon {
	width: 64px;
	height: 64px;
	background-size: cover;
	z-index: 2;
	position: absolute;
}
.icon--with-overlay {
	height: 48px;
	width: 48px;
}

.icon--small {
	width: 42px;
	height: 42px;
}

.icon--small-with-overlay {
	width: 30px;
	height: 30px;
}

.icon-bg-color {
	box-sizing: border-box;
	z-index: 1;
	width: 76px;
	height: 76px;
	opacity: 0.7;
	border-radius: 50%;
	mix-blend-mode: normal;
	position: absolute;
}

.icon-bg-color--small {
	width: 48px;
	height: 48px;
}

.content-container {
	box-sizing: border-box;
	display: flex;
	bottom: 0;
	flex-grow: 1;
	align-items: center;
	padding: $rm * 4 $rm * 8 $rm * 4;
	flex-direction: column;
	background-color: rgba(255, 255, 255, 0.7);
	mix-blend-mode: normal;
}

.card-thumbnail-align-center:hover,
.card-thumbnail-align-left:hover {
	box-shadow: $sp-panel-box-shadow;
}

.card-title {
	text-align: center;
	font-style: normal;
	font-weight: $headings-font-weight;
	color: $text-primary;
	font-size: $rm * 8;
	padding: 0;
	margin: 0;
}

.card-description {
	text-align: center;
	font-style: normal;
	font-weight: normal;
	color: $text-primary;
	font-size: $rm * 7;
	padding-top: $rm * 2;
	padding: 0;
	margin: 0;
}

.text-ellipsis {
	word-wrap: break-word;
	overflow: hidden;
	text-overflow: ellipsis;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: 2;
}

a:hover {
	text-decoration: none !important;
}

.all-card-container {
	grid-template-columns: repeat(auto-fill, minmax(20rem, 1fr));
}

.all-card-container-left {
	grid-template-columns: repeat(auto-fill, minmax(25rem, 1fr));
}

@media screen and (-ms-high-contrast: active),
(-ms-high-contrast: none) {
	.all-card-container,
	.all-card-container-left {
		display: flex;
		flex-wrap: wrap;
		justify-content: space-around;
	}
	
	.card-thumbnail-align-left.card-medium {
		width: 250px;
		min-width: 250px;
		max-width: 250px;
		margin-bottom: 16px;
		margin-right: 16px;
		flex: 1 0 100%;
	}

	.card-thumbnail-align-left.card-small,
	.card-thumbnail-align-center,
	.card-simple {
		width: 200px;
		min-width: 200px;
		max-width: 200px;
		margin-bottom: 16px;
		margin-right: 16px;
		flex: 1 0 100%;
	}

	.text-ellipsis {
		width: 160px;
	}

	.text-ellipsis-small-icon {
		width: 90px;
	}
  
	.text-ellipsis-small-no-icon {
		width: 140px;
	}
  
	.text-ellipsis-medium-icon {
		width: 100px;
	}

	.text-ellipsis-medium-no-icon {
		width: 180px;
	}
  
	.icon,
	.icon-bg-color {
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
	}
}.quick-links {
  --bg-color: #DCE9FF;
  --bg-color-light: #f1f7ff;
  --text-color-hover: #4C5656;
  --box-shadow-color: rgba(220, 233, 255, 0.48);
}

.quick-links.card {
  width: 250px;
  height: 321px;
  background: #fff;
  border:none;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  //box-shadow: 0 14px 26px rgba(0,0,0,0.04);
  transition: all 0.3s ease-out;
  text-decoration: none;
  border-radius: 5px;
}

.quick-links.card:hover {
  transform: translateY(-25px) scale(1.005) translateZ(0);
  box-shadow: 0 24px 36px rgba(0,0,0,0.11),
    0 24px 46px var(--box-shadow-color);
}

.quick-links.card:hover .overlay {
  transform: scale(30);
}

.quick-links.card:hover .circle {
  border-color: var(--bg-color-light);
  background: var(--bg-color);
}

.quick-links.card:hover .circle:after {
  background: var(--bg-color-light);
}

.quick-links.card:hover p {
  color: var(--text-color-hover);
}


.quick-links.card p {
  font-size: 17px;
  color: #4C5656;
  margin-top: 30px;
  z-index: 1;
  transition: color 0.3s ease-out;
}

.quick-links .circle {
  width: 131px;
  height: 131px;
  border-radius: 50%;
  background: #fff;
  border: 3px solid var(--bg-color);
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  z-index: 1;
  transition: all 0.3s ease-out;
}

.quick-links .circle:after {
  content: "";
  width: 118px;
  height: 118px;
  display: block;
  position: absolute;
  background: var(--bg-color);
  border-radius: 50%;
  transition: opacity 0.3s ease-out;
}

.quick-links .circle svg {
  z-index: 10000;
  transform: translateZ(0);
}

.quick-links .overlay {
  width: 20px;
  position: absolute;
  height: 20px;
  border-radius: 50%;
  background: var(--bg-color);
  top: 100px;
  left: 100px;
  z-index: 0;
  transition: transform 0.3s ease-out;
}

.col-md-3 {
  width: 24%;
}</css>
<data_table>sp_instance</data_table>
<demo_data>{
	"data":{
		"json_data":[
			{
				"bg_image": "246b095c535030101865ddeeff7b12a3.iix?t=medium",
				"title": "Benefits",
				"shortDescription": "Find all the benefits here",
				"icon": "2fdc4d9c535030101865ddeeff7b1215.iix",
				"url": "https://www.google.com"
			},
			{
				"bg_image": "246b095c535030101865ddeeff7b12a3.iix?t=medium",
				"title": "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur, repudiandae fugit",
				"shortDescription": "Find all the benefits here",
				"icon": "2fdc4d9c535030101865ddeeff7b1215.iix",
				"url": "https://www.yahoo.com"
			},
			{
				"bg_image": "246b095c535030101865ddeeff7b12a3.iix?t=medium",
				"title": "Benefits",
				"shortDescription": "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur, repudiandae fugit",
				"icon": "2fdc4d9c535030101865ddeeff7b1215.iix",
				"url": "?id=esc_sc_category"
			},
			{
				"bg_image": "246b095c535030101865ddeeff7b12a3.iix?t=medium",
				"title": "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur, repudiandae fugit",
				"shortDescription": "Lorem ipsum dolor sit, amet consectetur adipisicing elit. Consectetur, repudiandae fugit",
				"icon": "2fdc4d9c535030101865ddeeff7b1215.iix",
				"url": "?id=hri_user_profile&amp;sys_id=6816f79cc0a8016401c5a33be04be441"
			}
		]
	}
}</demo_data>
<description>Generic way to create and save links on the page</description>
<docs display_value=""/>
<field_list/>
<has_preview>true</has_preview>
<id/>
<internal>false</internal>
<link><![CDATA[function link(scope, element, attrs, controller) {
    controller.keyboardAction = function(event,item) {
        if (event.keyCode == 13 || event.keyCode == 32) {
            event.preventDefault();
            event.stopPropagation();
            if (item.type == 'guided_help') {
                scope.clicked(item);
                return;
            }
            event.target.click();
        }
    };
}]]></link>
<name>Quick Links - Card color from Center</name>
<option_schema>[{"name":"title","section":"Presentation","label":"Title","type":"string"},{"name":"short_description","section":"Presentation","label":"Short Description","type":"string"},{"displayValue":"Quick Link","name":"select_a_quick_link","section":"Presentation","label":"Select a Quick Link","type":"reference","value":"sn_ex_sp_quick_link","ed":{"reference":"sn_ex_sp_quick_link"}}]</option_schema>
<public>false</public>
<roles/>
<script><![CDATA[(function () {
    data.instanceId = $sp.getDisplayValue("sys_id");
    var quickLinkId = $sp.getParameter("quick_link_id");
    var pageId = $sp.getParameter("id");

    var quickLinkUtil = new sn_ex_sp.QuickLinkUtil();

    // Options
    data.title = (options && options.title) ? options.title : "";
    data.short_description = (options && options.short_description) ? options.short_description : "";
    var selectedQuickLink = (options && options.select_a_quick_link) ? options.select_a_quick_link : "";

    // Fetch JSON data
    if (quickLinkId && pageId === "quick_link_preview") {
        data.json_data = quickLinkUtil.fetchQuicklinksForHomePage(quickLinkId, data.instanceId);
    } else if (selectedQuickLink) {
        data.json_data = quickLinkUtil.fetchQuicklinksForHomePage(selectedQuickLink, data.instanceId);
    } else {
        // Default: fetch the first Quick Link available
        var gr = new GlideRecord('sn_ex_sp_quick_link');
        gr.orderBy('sys_created_on'); // or any other ordering
        if (gr.query() && gr.next()) {
            selectedQuickLink = gr.sys_id.toString();
            data.json_data = quickLinkUtil.fetchQuicklinksForHomePage(selectedQuickLink, data.instanceId);
        } else {
            data.json_data = [];
        }
    }

    // Set title: options.title or Quick Link name
    if (!data.title && selectedQuickLink) {
        var grTitle = new GlideRecord('sn_ex_sp_quick_link');
        if (grTitle.get(selectedQuickLink)) {
            data.title = grTitle.name.toString();
        }
    }

    // Handle guided help click
    if (input && input.action === "openGuidedhelp" && input.guidedHelpId) {
        var portal = $sp.getPortalRecord();
        data.pageId = $sp.getParameter("id") ? $sp.getParameter("id") : (portal && portal.homepage.getDisplayValue());
        data.guidedHelpResponse = quickLinkUtil.handleGuidedHelpClick(input.guidedHelpId, data.pageId, "quick_link");
    }
})();
]]></script>
<servicenow>false</servicenow>
<sys_class_name>sp_widget</sys_class_name>
<sys_created_by>admin</sys_created_by>
<sys_created_on>2025-05-19 11:37:10</sys_created_on>
<sys_id>9f6d956283292e50ccf85d70deaad3e8</sys_id>
<sys_mod_count>177</sys_mod_count>
<sys_name>Quick Links - Card color from Center</sys_name>
<sys_package display_value="Employee Center" source="sn_ex_sp">4249e63a28d54d61bb6fbf61fd86cccb</sys_package>
<sys_policy/>
<sys_scope display_value="Employee Center">4249e63a28d54d61bb6fbf61fd86cccb</sys_scope>
<sys_update_name>sp_widget_9f6d956283292e50ccf85d70deaad3e8</sys_update_name>
<sys_updated_by>rohan.thirumala@kaptius.com</sys_updated_by>
<sys_updated_on>2025-09-02 05:59:40</sys_updated_on>
<template><![CDATA[<!-- Quick Link Card -->
<div class="all-card-container">
  <a class="quick-links card"
     aria-labelledby="{{data.instanceId}}-quick-link"
     id="{{data.instanceId}}-quick-link"
     ng-href="{{data.json_data[0].url}}"
     ng-click="clicked(data.json_data[0])"
     ng-attr-target="{{data.json_data[0].target}}"
     tabindex="0">

    <div class="circle">
      <div class="icon" 
           ng-if="data.json_data[0].icon && data.json_data[0].icon.length"
           style="background-image: url({{data.json_data[0].icon}});"></div>
    </div>

    <div class="overlay"></div>

    <!-- Title -->
    <p class="card-title">{{data.title}}</p>

    <!-- Short description -->
    <p class="card-description">{{data.short_description}}</p>

  </a>
</div>
]]></template>
</sp_widget>
</unload>
